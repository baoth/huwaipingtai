@{
    Layout = null;
}
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />
        <link href="../../Content/Header.css" rel="stylesheet" type="text/css" />

        <script src="../../Scripts/json2.js" type="text/javascript"></script>
        <script src="../../Scripts/qsm-mui/zepto-1.1.4.min.js" type="text/javascript"></script>
        <script src="../../Scripts/qsm-mui/zepto.touch.js" type="text/javascript"></script>
        <script src="../../Scripts/qsm-mui/fx.js" type="text/javascript"></script>
        <script src="../../Scripts/qsm-mui/zepto.selector.js" type="text/javascript"></script>
      
        <script type="text/javascript">
          
        </script>
        <style type="text/css">
            * {
                margin: 0;
                padding: 0;
            }
          body, p, h1, h2, h3, h4, h5, h6, ul, ol, li, dl, dt, dd, table, th, td, form, fieldset, legend, input, textarea, button, select {
            margin: 0;
            padding: 0;
          }
          .new-ct {
                min-height: 300px;
                background-color: #fff;
           }
           .title {
                padding: 13px 10px 7px;
                border-bottom: 1px solid #c8c7cc;
                background: #f1f1f5;
                font-size: 14px;
                color: #666;
            }
            .shouhuo .info-list {
                padding-bottom: 20px;
            }
            .info-list {
                padding-left: 10px;
                border-bottom: 1px solid #c8c7cc;
            }
            .shouhuo .pd {
                padding: 5px 10px 4px;
            }
            .info {
                position: relative;
                border-bottom: 1px solid #c8c7cc;
            }
            .tbl-type {
                display: table;
                width: 100%;
            }
            .shouhuo .tbl-cell {
                vertical-align: middle;
            }
            .w80 {
                width: 90px;
            }
            .tbl-cell {
                display: table-cell;
            }
            .shouhuo .tbl-cell:first-child span {
                font-size: 14px;
                color: #999;
            }
            .tbl-cell {
                display: table-cell;
            }
            .shouhuo .tbl-cell:last-child span {
                font-size: 14px;
                color: #333;
            }
            .shouhuo .new-input {
                font-size: 14px;
                font-family: '微软雅黑';
                color: #333;
            }
            .new-input {
                width: 100%;
                height: 30px;
                border: 0;
                border-radius: 0;
                background: #fff;
                font-size: 12px;
                line-height: 24px;
                font-weight: normal;
                color: #bdbdbd;
                text-indent: 10px;
                vertical-align: top;
                -webkit-appearance: none;
            }
            .w50 {
                 width: 50px;
            }
           .shouhuo .new-input-span {
                border: none;
            }
            .new-input-span {
                display: block;
                height: 30px;
                border: 1px solid #ccc;
            }
            .shouhuo .new-sel-box {
                width: 100%;
                height: 30px;
                margin-left: 0;
                border: 0;
                line-height: 30px;
                font-size: 12px;
                text-indent: 10px;
            }
            .new-p-re {
                position: relative;
            }
            .shouhuo .new-sel-box .new-select {
                 height: 30px;
            }
            .new-select {
                position: absolute;
                top: 0;
                left: 0;
                z-index: 10;
                width: 100%;
                height: 30px;
                opacity: 0;
            }
            body, input, textarea, select, button, table {
                font-size: 16px;
                line-height: 1.25em;
            }
            option {
                padding: 3px;
                height: 24px;
                line-height: 24px;
            }
            .border-b-none {
                border-bottom: none;
            }
            .mgn {
                margin: 15px 10px;
            }
            .new-abtn-type, .new-abtn-type2, .new-abtn-type3, .new-abtn-type4 {
                display: block;
                padding: 8px;
                border-radius: 2px;
                background-color: #c00;
                font-size: 14px;
                color: #fff;
                text-align: center;
            }
            .w70 {
             width: 70px;
            }
            
           
        </style>
     
    </head>
    <body>
        @Html.Partial("_HeaderTypical", new ViewDataDictionary { { "title", ViewData["title"] } })
      
      <form action="" method="post" id="editYanSeForm">
					   
        <div class="new-ct shouhuo">
            <div class="title">颜色</div>
             <div class="info-list">
            <div class="info pd">
        	    <div class="tbl-type">
            	    <span class="tbl-cell w80"><span>商品颜色：</span></span>
                    <span class="tbl-cell"><span><input type="text" maxlength="20" class="new-input" name="yanSeName" id="yanSeName" value="@ViewData["Name"]" style="width:100%;"></span></span>
                </div>
            </div>
            <div class="info pd" style="display:none" id="yanSeErrorMsg">
        	    <div class="tbl-type">
            	    <span class="tbl-cell w80"><span style="color:red">商品颜色不能为空</span></span>
                </div>
            </div>
           
			<div style="display:none" >
        	    <input id="yanSeNameId"  type="hidden" value="@ViewData["Id"]"/>                
                 <input  id="pageType" type="hidden" value="@ViewData["pageType"]"/>
            </div>       
        <a href="javascript:submitEditYanSeForm()" class="new-abtn-type mgn">保存</a>	
        </div>

        <script type="text/javascript">

            var submitEditYanSeForm = function () {
                if (CheckValid() == false) return;
                var url = "Save";
                var data = {};
                data.Name = $("#yanSeName").val();               
                var type = GetPageType();

                if (type == "2") {
                    data.Id = $("#yanSeNameId").val();
                }               
                submitAjax(url, data, type);

            }
            var submitAjax = function (url, data, type) {
                var dataJson = JSON.stringify(data);
                $.ajax({
                    url: url,
                    data: { data: dataJson, type: type },
                    type: "POST",
                    dataType: "JSON",
                    success: function (d) {
                        d = eval('(' + d + ')');
                        if (d && d.IsSuccess) {
                           
                            window.location = window.location.origin + "/YanSe/Index";
                        }
                        else {
                            alert(d.Msg);
                        }
                    },
                    error: function (s) {
                        alert("请求错误！");
                    }
                });
            };

    var GetPageType = function () {
        var type = $("#pageType").val();
        return type;
    }

    var CheckValid = function () {
        var yanSeName = $("#yanSeName").val();
        if (yanSeName) {
            $("#yanSeErrorMsg").hide();
        }
        else {
            $("#yanSeErrorMsg").show();
            return false;
        }

        return true;
    }

    </script>
        </form>
      
        @Html.Partial("_FooterTypical")
    </body>

</html>
